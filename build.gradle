apply plugin: 'java'
version = '1.0'
archivesBaseName = 'DesktopOmegle'
repositories {
    mavenCentral()
	maven {
        url 'https://oss.sonatype.org/content/repositories/snapshots/' 
    }
}
dependencies {
    compile 'org.json:json:20090211'
	compile 'org.fxmisc.richtext:richtextfx:0.6.4'
}
jar {
	from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    manifest {
        attributes 'Main-Class': 'main.java.client.OmegleClient'
    }
}
task copyDeps(type: Copy) {
  from configurations.runtime
  into 'lib'
  rename { String fileName ->
        fileName.replace('-20090211', '')
    }
}
build.dependsOn(copyDeps)